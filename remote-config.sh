#!/bin/sh

SVN_DIR="$( cd -P "$( dirname "$0" )" && pwd )"

### BEGIN Editable part

REMOTE_USER_ROUTER='root'
REMOTE_HOST_ROUTER='pc1.yourdomain.com'
REMOTE_DEDICATED_IP_ROUTER='192.168.77.1'
REMOTE_DEDICATED_IF_ROUTER='eth1'
#For debug build keep 'debug' in CONFIG
#BUILD_CONFIG_ROUTER='debug'
#For release build just keep an empty string
BUILD_CONFIG_ROUTER=''

REMOTE_USER_HOSTS='root'
REMOTE_HOST_HOSTS='pc2.yourdomain.com'
REMOTE_DEDICATED_IP_HOSTS='192.168.77.2'
REMOTE_DEDICATED_IF_HOSTS='eth1'
#For debug build keep 'debug' in CONFIG
#BUILD_CONFIG_HOSTS='debug'
#For release build just keep an empty string
BUILD_CONFIG_HOSTS=''

### END Editable part

MN_DEBUG=$(echo $BUILD_CONFIG_HOSTS | grep 'debug' 1>/dev/null 2>/dev/null && echo -n "1" || echo -n "0")

export REMOTE_USER_ROUTER
export REMOTE_HOST_ROUTER
export REMOTE_DEDICATED_IP_ROUTER
export REMOTE_DEDICATED_IF_ROUTER
export BUILD_CONFIG_ROUTER
export REMOTE_USER_HOSTS
export REMOTE_HOST_HOSTS
export REMOTE_DEDICATED_IP_HOSTS
export REMOTE_DEDICATED_IF_HOSTS
export BUILD_CONFIG_HOSTS
export MN_DEBUG

echo '#!/bin/sh'
echo '### Configuration:'
echo "SVN_DIR=$SVN_DIR"
echo "REMOTE_USER_ROUTER=$REMOTE_USER_ROUTER"
echo "REMOTE_HOST_ROUTER=$REMOTE_HOST_ROUTER"
echo "REMOTE_DEDICATED_IP_ROUTER=$REMOTE_DEDICATED_IP_ROUTER"
echo "REMOTE_DEDICATED_IF_ROUTER=$REMOTE_DEDICATED_IF_ROUTER"
echo "BUILD_CONFIG_ROUTER=$BUILD_CONFIG_ROUTER"
echo "REMOTE_USER_HOSTS=$REMOTE_USER_HOSTS"
echo "REMOTE_HOST_HOSTS=$REMOTE_HOST_HOSTS"
echo "REMOTE_DEDICATED_IP_HOSTS=$REMOTE_DEDICATED_IP_HOSTS"
echo "REMOTE_DEDICATED_IF_HOSTS=$REMOTE_DEDICATED_IF_HOSTS"
echo "BUILD_CONFIG_HOSTS=$BUILD_CONFIG_HOSTS"
echo "MN_DEBUG=$MN_DEBUG"

HEADER="$SVN_DIR/remote_config.h"
echo "" > "$HEADER"
echo "/* Automatically generated by $SVN_DIR/remote-config.sh, edit that script instead */" >> "$HEADER"
echo "#define SVN_DIR \"$SVN_DIR\"" >> "$HEADER"
echo "#define REMOTE_USER_ROUTER \"$REMOTE_USER_ROUTER\"" >> "$HEADER"
echo "#define REMOTE_HOST_ROUTER \"$REMOTE_HOST_ROUTER\"" >> "$HEADER"
echo "#define REMOTE_DEDICATED_IP_ROUTER \"$REMOTE_DEDICATED_IP_ROUTER\"" >> "$HEADER"
echo "#define REMOTE_DEDICATED_IF_ROUTER \"$REMOTE_DEDICATED_IF_ROUTER\"" >> "$HEADER"
echo "#define BUILD_CONFIG_ROUTER \"$BUILD_CONFIG_ROUTER\"" >> "$HEADER"
echo "#define REMOTE_USER_HOSTS \"$REMOTE_USER_HOSTS\"" >> "$HEADER"
echo "#define REMOTE_HOST_HOSTS \"$REMOTE_HOST_HOSTS\"" >> "$HEADER"
echo "#define REMOTE_DEDICATED_IP_HOSTS \"$REMOTE_DEDICATED_IP_HOSTS\"" >> "$HEADER"
echo "#define REMOTE_DEDICATED_IF_HOSTS \"$REMOTE_DEDICATED_IF_HOSTS\"" >> "$HEADER"
echo "#define BUILD_CONFIG_HOSTS \"$BUILD_CONFIG_HOSTS\"" >> "$HEADER"
echo "#define MN_DEBUG \"$MN_DEBUG\"" >> "$HEADER"
